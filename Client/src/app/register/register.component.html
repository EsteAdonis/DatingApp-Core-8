<form [formGroup]="registerForm" (ngSubmit)="signup()" autocomplete="off">
  <h2 class="text-center text-primary">Sign up</h2>
  <hr >

  <div class="form-floating mb-3">
    <input type="text" 
        [class.is-invalid]="registerForm.get('username')?.errors && 
                            registerForm.get('username')?.touched"
        class="form-control" 
        formControlName="username"
        placeholder="Username">
    <label for="username">Username</label>
    <div class="invalid-feedback text-start">Please enter a username</div>
  </div>

  <div class="form-floating mb-3">
    <input
        [class.is-invalid]="registerForm.get('password')?.errors && 
                            registerForm.get('password')?.touched"     
        type="password" 
          class="form-control" 
          formControlName="password"
          placeholder="Password">     
    <label for="password">Password</label>
    <div *ngIf="registerForm.get('password')?.hasError('required')" class="invalid-feedback text-start">Please enter a password</div>
    <div *ngIf="registerForm.get('password')?.hasError('minlength')" class="invalid-feedback text-start">Password must be at least 4 charactrers</div>    
    <div *ngIf="registerForm.get('password')?.hasError('maxlength')" class="invalid-feedback text-start">Please must be at most 8 characters</div>    
  </div>

  <div class="form-floating mb-3">
    <input 
        [class.is-invalid]="registerForm.get('confirmPassword')?.errors && 
                            registerForm.get('confirmPassword')?.touched"    
        type="password" 
        class="form-control" 
        formControlName="confirmPassword"
        placeholder="Confirm Password">     
    <label for="password">Password</label>
    <div *ngIf="registerForm.get('confirmPassword')?.hasError('required')" class="invalid-feedback text-start">Please enter a confirm password</div>
    <div *ngIf="registerForm.get('confirmPassword')?.hasError('isMatching')" class="invalid-feedback text-start">Confirm password must match password</div>    

  </div>

  <div class="form-group text-center">
    <button class="btn btn-success me-2" type="submit">Register</button>
    <button class="btn btn-defualt me-2" type="button" (click)="cancel()">Cancel</button>    
  </div>
</form>

<p>Form value: {{ registerForm.value | json }}</p>
<p>Form value: {{ registerForm.status | json }}</p>

